<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>AniList Authentication Success</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        background-color: #edf1f5;
        margin: 0;
        padding: 0;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
      }
      .success-container {
        background-color: #fafafa;
        border-radius: 8px;
        padding: 40px;
        text-align: center;
        max-width: 400px;
        width: 90%;
      }
      .anilist-logo {
        width: 100px;
        height: auto;
        margin: 0 auto 20px;
        background-color: #2b2c2d;
        padding: 10px;
        border-radius: 8px;
        display: flex;
        justify-content: center;
        align-items: center;
      }
      .anilist-logo img {
        width: 80px;
        height: auto;
      }
      h1 {
        font-size: 28px;
        margin-bottom: 10px;
        color: #5c728a;
      }
      p {
        font-size: 16px;
        color: #9299a1;
        margin-bottom: 20px;
      }
      #title,
      #token,
      .blue {
        color: #3cb0ed;
        font-weight: bold;
      }
      .copy-button {
        background-color: #3cb0ed;
        color: #edf1f5;
        border: none;
        border-radius: 5px;
        padding: 10px 20px;
        font-size: 16px;
        cursor: pointer;
        display: flex;
        justify-content: center;
        align-items: center;
        transition: background-color 0.3s ease;
        margin-top: 20px;
        width: fit-content;
        margin: 20px auto;
      }
      .copy-button:hover {
        background-color: #218ac8;
      }
      .copy-button img {
        width: 20px;
        height: 20px;
        margin-right: 7px;
      }
      a {
        text-decoration: none;
      }
    </style>
  </head>
  <body>
    <div class="success-container">
      <div class="anilist-logo">
        <img src="https://anilist.co/img/icons/icon.svg" alt="AniList Logo" />
      </div>
      <h1>Authentication Successful!</h1>
      <p>
        You've successfully authenticated with
        <a href="https://telegram.org"><span id="title"></span></a>.
      </p>
      <p id="description"></p>
      <p id="token"></p>
      <button class="copy-button" onclick="copyToken()">
        <img
          src="https://img.icons8.com/material-outlined/24/ffffff/copy--v1.png"
          alt="Copy Icon"
        />
        Copy Token
      </button>
      <p id="extra"></p>
    </div>

    <script>
      const urlParams = new URLSearchParams(window.location.search);
      const type = urlParams.get("type");
      const token = urlParams.get("access_token");
      const titleElement = document.getElementById("title");
      const descriptionElement = document.getElementById("description");
      const tokenElement = document.getElementById("token");
      const extraElement = document.getElementById("extra");
      if (type === "APP") {
        titleElement.textContent = "AniList Unofficial";
        descriptionElement.textContent =
          "Congratulations on successfully authenticating with the Unofficial AniList App! ðŸŽ‰ Dive into a world of endless anime and manga exploration. Discover, track, and indulge in your favorite series with ease. Welcome to a personalized AniList experience tailored just for you! ðŸŒŸ";
        extraElement.textContent = "You can close this page now and enjoy.";
      } else if (type === "BOT") {
        titleElement.textContent = "AniList Notifs";
        descriptionElement.textContent =
          "Congratulations! ðŸŽ‰ You've successfully connected to AniList through our bot. Get ready to receive notifications about your favorite anime, manga, and more. Stay updated and explore the world of anime effortlessly! ðŸŒŸ";
        tokenElement.textContent = token;
        extraElement.innerHTML =
          "Copy the above url and send it to the bot so that our bot can have access to your <a href='https://anilist.co'><span class='blue'>AniList</span></a> notifications.";
      } else {
        titleElement.textContent = "AniList";
        descriptionElement.textContent =
          "Congratulations! ðŸŽ‰ You've successfully connected with AniList. Dive into a world of anime and manga, explore new adventures, and uncover exciting stories. Start your journey now! ðŸŒŸ";
      }

      function copyToken() {
        const tokenText = document.getElementById("token").textContent;

        const tempInput = document.createElement("textarea");
        tempInput.value = tokenText;
        document.body.appendChild(tempInput);

        tempInput.select();
        document.execCommand("copy");
        document.body.removeChild(tempInput);

        alert("Token successfully copied!");
      }
    </script>
  </body>
</html>
